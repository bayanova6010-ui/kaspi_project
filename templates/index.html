<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Авто WhatsApp</title>
<style>
    body { 
        display:flex; 
        justify-content:center; 
        align-items:center; 
        height:100vh; 
        flex-direction:column; 
        font-family: Arial; 
    }
    input { 
        padding:10px; 
        font-size:16px; 
        width:250px; 
        margin-bottom:10px; 
    }
    button { 
        padding:10px 20px; 
        font-size:16px; 
        cursor:pointer; 
    }
</style>
</head>
<body>
<h2>Отправить сообщение клиенту</h2>

<!-- Поля для ввода номера, имени клиента и названия товара -->
<input type="text" id="phone" placeholder="Введите номер клиента" />
<input type="text" id="name" placeholder="Имя клиента" />
<input type="text" id="product" placeholder="Название товара" />
<button onclick="openWhatsApp()">Открыть WhatsApp</button>

<script>
function validateNumber(number) {
    return /^\d{11}$/.test(number); // Проверяем 11 цифр
}

function openWhatsApp() {
    let phone = document.getElementById("phone").value;
    let name = document.getElementById("name").value;
    let product = document.getElementById("product").value;

    if(!validateNumber(phone)) {
        alert("Введите корректный номер в формате 77071112233");
        return;
    }
    if(!name || !product) {
        alert("Введите имя клиента и название товара");
        return;
    }

    // Динамический текст сообщения
    let text = `Сәлеметсіз бе, ${name}!\n\nBio-Farm дүкенінде:\n${product}\n\nсатып алуыңызбен құттықтаймыз. Сізге бәрі ұнады деп үміттенеміз.\nБіз үшін әрбір тұтынушымыздың пікірі өте маңызды, сондықтан осында біздің дүкеннің атын көрсете отырып, пікір қалдыруыңызды сұраймыз:\nhttps://kaspi.kz/shop/review/productreview?orderCode=TEST123&productCode=17501020&rating=5\n\nАлдын-ала рахмет!\nІзгі ниетпен, Bio-Farm!\n\n====================\n\nЗдравствуйте, ${name}!\n\nПоздравляем с покупкой!\nМы очень рады, что вы приобрели:\n${product}\n\nименно в магазине Bio-Farm и надеемся, что вам все понравилось!\nПожалуйста, оставьте отзыв, для нас это крайне важно:\nhttps://kaspi.kz/shop/review/productreview?orderCode=TEST123&productCode=17501020&rating=5\n\nЗаранее вам признательны!\nС уважением, компания Bio-Farm!`;

    // Открываем WhatsApp Web с готовым текстом
    let url = "https://wa.me/" + phone + "?text=" + encodeURIComponent(text);
    window.open(url, "_blank");
}
</script>
</body>
</html>
